using System ; using System . Runtime . InteropServices ; using System . Text ; internal unsafe static class __bindings { [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_drop_string" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern void __cs_bindgen_drop_string ( RustOwnedString raw ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated__ClientState_drop" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern void __cs_bindgen_generated__ClientState_drop ( void * self ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated__ClientState__new" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern void * __cs_bindgen_generated__ClientState__new ( ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated__ClientState__set_credentials" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern void __cs_bindgen_generated__ClientState__set_credentials ( void * self , ulong id , RawCsString token ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated__ClientState__create_handshake_request" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern RustOwnedString __cs_bindgen_generated__ClientState__create_handshake_request ( void * self ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated__ClientState__handle_handshake_response" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern byte __cs_bindgen_generated__ClientState__handle_handshake_response ( void * self , RawCsString json ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated__ClientState__account_id" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern ulong __cs_bindgen_generated__ClientState__account_id ( void * self ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated__ClientState__points" , CallingConvention = CallingConvention . Cdecl ) ] internal static extern ulong __cs_bindgen_generated__ClientState__points ( void * self ) ; } public class Mahjong { } public unsafe partial class ClientState : IDisposable { private void * _handle ; public void Dispose ( ) { if ( _handle != null ) { __bindings . __cs_bindgen_generated__ClientState_drop ( _handle ) ; _handle = null ; } } } partial class ClientState { public ClientState ( ) { unsafe { _handle = __bindings . __cs_bindgen_generated__ClientState__new ( ) ; } } } partial class ClientState { public void SetCredentials ( ulong id , string token ) { unsafe { fixed ( char * __fixed_token = token ) { __bindings . __cs_bindgen_generated__ClientState__set_credentials ( _handle , id , new RawCsString ( ) { Ptr = __fixed_token , Length = token . Length , } ) ; } } } } partial class ClientState { public string CreateHandshakeRequest ( ) { string __ret ; unsafe { var rawResult = __bindings . __cs_bindgen_generated__ClientState__create_handshake_request ( _handle ) ; string result = Encoding . UTF8 . GetString ( rawResult . Ptr , ( int ) rawResult . Length ) ; __bindings . __cs_bindgen_drop_string ( rawResult ) ; __ret = result ; } return __ret ; } } partial class ClientState { public bool HandleHandshakeResponse ( string json ) { bool __ret ; unsafe { fixed ( char * __fixed_json = json ) { var rawResult = __bindings . __cs_bindgen_generated__ClientState__handle_handshake_response ( _handle , new RawCsString ( ) { Ptr = __fixed_json , Length = json . Length , } ) ; __ret = rawResult != 0 ; } } return __ret ; } } partial class ClientState { public ulong AccountId ( ) { ulong __ret ; unsafe { var rawResult = __bindings . __cs_bindgen_generated__ClientState__account_id ( _handle ) ; __ret = rawResult ; } return __ret ; } } partial class ClientState { public ulong Points ( ) { ulong __ret ; unsafe { var rawResult = __bindings . __cs_bindgen_generated__ClientState__points ( _handle ) ; __ret = rawResult ; } return __ret ; } } [ StructLayout ( LayoutKind . Sequential ) ] internal unsafe struct RustOwnedString { public byte * Ptr ; public UIntPtr Length ; public UIntPtr Capacity ; } [ StructLayout ( LayoutKind . Sequential ) ] internal unsafe struct RawCsString { public char * Ptr ; public int Length ; }