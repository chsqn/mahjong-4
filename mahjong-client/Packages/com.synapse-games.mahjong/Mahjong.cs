using System ; using System . Runtime . InteropServices ; using System . Text ; public class Mahjong { [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_drop_string" , CallingConvention = CallingConvention . Cdecl ) ] private static extern void DropString ( IntPtr raw ) ; [ DllImport ( "mahjong" , EntryPoint = "__cs_bindgen_generated_create_handshake_request" , CallingConvention = CallingConvention . Cdecl ) ] private static extern IntPtr __CreateHandshakeRequest ( out int length ) ; public static string CreateHandshakeRequest ( ) { var rawResult = __CreateHandshakeRequest ( out var length ) ; string result ; unsafe { result = Encoding . UTF8 . GetString ( ( byte * ) rawResult , length ) ; } DropString ( rawResult ) ; return result ; } }